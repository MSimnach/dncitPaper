% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/auto_diagnostic.R
\name{auto_diagnostic}
\alias{auto_diagnostic}
\title{Automatic diagnostic for embeddings}
\usage{
auto_diagnostic(
  experiment_dir,
  embedding_obs,
  diagnostic_csv = NULL,
  seed = 1,
  extract_trained = TRUE,
  baseline_embeddings = c("fastsurfer", "condVAE", "freesurfer", "medicalnet"),
  alpha = 1,
  test_prop = 0.2,
  nfolds = 10,
  lambda_choice = "1se"
)
}
\arguments{
\item{experiment_dir}{Path to experiment directory (e.g., "/No_CI/550/1/")}

\item{embedding_obs}{Vector of trained embedding names (e.g., c("scratch"), c("medicalnet_ft", "medicalnet_ft_frozen"))}

\item{diagnostic_csv}{Path to diagnostic dataset CSV. If NULL, defaults to "{UKB_PATH}/t1_paths_diag.csv"}

\item{seed}{Random seed for Y generation and glmnet (default: 1)}

\item{extract_trained}{Extract embeddings from checkpoint (default: TRUE)}

\item{baseline_embeddings}{Vector of baseline embeddings to evaluate (default: c("fastsurfer", "condVAE", "freesurfer", "medicalnet"))}

\item{alpha}{Elastic net mixing parameter (default: 1 for lasso)}

\item{test_prop}{Test set proportion (default: 0.2)}

\item{nfolds}{Number of CV folds (default: 10)}

\item{lambda_choice}{Lambda selection method: "min" or "1se" (default: "1se")}
}
\value{
List containing results data frame and paths to saved files
}
\description{
Evaluates trained and baseline embeddings on a separate diagnostic dataset,
regenerating Y with the same parameters as the original experiment.
}
\examples{
\dontrun{
# Evaluate single trained embedding
results <- auto_diagnostic(
  experiment_dir = "/path/to/No_CI/550/1",
  embedding_obs = c("scratch")
)

# Evaluate multiple trained embeddings
results <- auto_diagnostic(
  experiment_dir = "/path/to/No_CI/550/1",
  embedding_obs = c("scratch", "medicalnet_ft", "medicalnet_ft_frozen")
)
}
}
